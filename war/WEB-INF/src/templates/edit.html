<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="html.xsl"?>

<x:page title="{title}" xmlns:x="http://lib.unjou.org/Schemas/Style"
                         xmlns:xi="http://www.w3.org/2001/XInclude">

<x:breadcrumbs>
    / {title}
</x:breadcrumbs>

<x:head>
<link rel="stylesheet" href="/jquery.autocomplete.css" type="text/css" />
</x:head>
<x:script href="/jquery.autocomplete.js" />
<x:script>
    $(document).bind("ready", function() {
        $("#tagString").autocomplete("/tags/autocomplete.txt", { 
            multiple: true, 
            autoFill: true 
        });
    });
</x:script>

<form method="POST" action="/articles">
    {.if key}
    <input type="hidden" name="key" value="{key}" />
    {.end}
    <fieldset>
        <legend>Edit the article</legend>
        <ol>
            <li>
                <label for="title">Title</label>
                <input type="text" name="title" value="{title}" style="width: 60em" />
            </li>
            <li>
                <label for="content">Content</label>
                <textarea name="content" class="content" style="height: 20em">{content}</textarea>
            </li>
            <li>
                <label for="categoryKey">Category</label>
                <select name="categoryKey">
                    {.with categories}
                    <option value="{key}">{label}</option>
                    {.end}
                </select>
            </li>
            <li>
                <label for="tagString">Tags</label>
                <input type="text" id="tagString" name="tagString" value="{tagString}" style="width: 40em" />
            </li>
        </ol>
    </fieldset>
    <fieldset class="submit">
        <button type="submit">Save</button>
        <button type="reset">Reset</button>
        <button>Cancel</button>
    </fieldset>
</form>    

</x:page>
