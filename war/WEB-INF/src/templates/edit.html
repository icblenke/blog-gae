{.layout "/layout.html"}

<l:breadcrumbs>
    <a href="/">Home</a> / {title}
</l:breadcrumbs>

<l:head>
    <link rel="stylesheet" href="/jquery.autocomplete.css" type="text/css" />
</l:head>
<l:scripts> 
    <script href="/jquery.autocomplete.js"></script>
</l:scripts>    
<l:script>
    $(document).bind("ready", function() {
        $("#tagString").autocomplete("/tags/autocomplete.txt", { 
            multiple: true, 
            autoFill: true 
        });
    });
</l:script>

<form method="POST" action="/articles">
    {.if key}
    <input type="hidden" name="key" value="{key}" />
    {.end}
    <fieldset>
        <legend>Edit the article</legend>
        <ol>
            <li>
                <label for="title">Title</label>
                <input type="text" name="title" value="{title}" style="width: 60em" />
            </li>
            <li>
                <label for="content">Content</label>
                <textarea name="content" class="content" style="height: 20em">{content}</textarea>
            </li>
            <li>
                <label for="categoryKey">Category</label>
                <select name="categoryKey">
                    {.with categories}
                    <option value="{key}">{label}</option>
                    {.end}
                </select>
            </li>
            <li>
                <label for="tagString">Tags</label>
                <input type="text" id="tagString" name="tagString" value="{tagString}" style="width: 40em" />
            </li>
        </ol>
    </fieldset>
    <fieldset class="submit">
        <button type="submit">Save</button>
        <button type="reset">Reset</button>
        <button>Cancel</button>
    </fieldset>
</form>    
